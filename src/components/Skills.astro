---
import { skills } from "../data/skills";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="bg-white py-24 sm:py-32">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <h2
      class="mt-2 mb-14 text-2xl font-medium text-center tracking-tight text-gray-900 sm:text-3xl"
    >
      {t("skills.title")}
    </h2>
    <div
      class="w-full inline-flex flex-nowrap overflow-hidden [mask-image:_linear-gradient(to_right,transparent_0,_black_64px,_black_calc(100%-20px),transparent_100%)] sm:[mask-image:_linear-gradient(to_right,transparent_0,_black_128px,_black_calc(100%-200px),transparent_100%)]"
      x-data="{}"
      x-init="$nextTick(() => { const ul = $refs.logos; ul.insertAdjacentHTML('afterend', ul.outerHTML); ul.nextSibling.setAttribute('aria-hidden', 'true'); })"
    >
      <ul
        class="flex items-center justify-center md:justify-start md:[&_li]:mx-8 [&_img]:max-w-none animate-infinite-scroll"
        x-ref="logos"
      >
        {
          skills.map((item) => (
            <li>
              <img
                class="h-[50px] w-[100px] object-contain"
                src={item.icon}
                alt={item.name}
                sizes="200px"
              />
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</div>
